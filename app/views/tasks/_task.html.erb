<div id="<%= dom_id task %>" class="bg-gray-100/30 dark:bg-neutral-800/30 backdrop-blur-lg
     border border-1 border-gray-200 dark:border-gray-700 shadow-md rounded-lg px-5 py-3 my-4">

  <div class="py-2 w-full flex justify-between items-start border-b-2 border-stone-300 dark:border-gray-700 z-0">
    <div class="group flex flex-1 gap-2">
      <span class="mb-1 text-emerald-500 <%= 'text-gray-500 line-through' if task.completed? %>
          group-hover:text-emerald-600">
        <%= lucide_icon(icon_by_status(task.status)) %>
      </span>

      <%= link_to task, class: "font-medium text-md md:font-semibold md:text-lg mb-1 text-emerald-600 
          group-hover:text-emerald-400 #{ 'text-gray-500 line-through' if task.completed? }" do %>
        <strong> <%= task.name %> </strong>
      <% end %>
    </div>
    
    <div class="gap-2 ml-3 <%= task.completed? ? 'hidden' : 'flex' %>">
      <% if task.expired? %>
        <span class='text-rose-500 animate-pulse'>
          <%= lucide_icon('circle-alert') %>
        </span>

        <span class="text-rose-500 font-medium text-sm md:font-semibold md:text-md"><%= task.deadline %></span>
      <% else %>
        <div class="flex gap-2 <%= task.deadline == 'Today' ? 'text-amber-500 dark:text-red-400' : 'text-emerald-600' %>">
          <span class="flex items-center gap-2 font-medium text-sm md:font-semibold md:text-md">
            <%= lucide_icon('alarm-clock') %> <%= task.deadline %>
          </span>
        </div> 
      <% end %>
    </div>

  </div>

  <div class="flex my-5 text-gray-600 dark:text-gray-300 gap-3">
    <div class="">
      <span class="<%= 'text-gray-500 dark:text-gray-300' if !task.in_progress? %>">
        <%= lucide_icon(detail_icon(task.status)) %>
      </span>
    </div>

    <div class="flex-1 <%='line-through' if !task.in_progress? %>">
      <%= task.description.html_safe %>
    </div>
  </div>
</div>


